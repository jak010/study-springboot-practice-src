# Member 기능 요구사항 문서화 현황

## 1. 문서 목적

이 문서는 `member` 테이블 기반 기능 구현 요구사항을 개발자에게 전달하기 위해 작성된 문서화 현황을 기록합니다.

### 1.1 개요

member 테이블은 서비스의 핵심 사용자 정보를 관리하는 테이블입니다.
회원 가입, 정보 조회, 수정, 상태 관리 등 기본 CRUD와 조회 기능이 필요합니다.
외부 시스템 연동은 제외하며, 순수 내부 테이블만으로 기능을 구현합니다.

## 2. 테이블 구조

```sql
CREATE TABLE demo.member (
    member_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '회원 고유 ID',
    nick_name VARCHAR(100) NOT NULL COMMENT '닉네임',
    email VARCHAR(255) UNIQUE COMMENT '이메일 주소',
    password VARCHAR(255) COMMENT '비밀번호 (암호화 저장)',
    phone_number VARCHAR(20) COMMENT '전화번호',
    status ENUM('ACTIVE', 'INACTIVE', 'BLOCKED') NOT NULL DEFAULT 'ACTIVE' COMMENT '회원 상태',
    created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '가입일시',
    updated_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일시',
    PRIMARY KEY (member_id),
    INDEX idx_email (email),
    INDEX idx_status (status)
) ENGINE=InnoDB
  DEFAULT CHARSET = utf8mb4
  COLLATE = utf8mb4_general_ci
  COMMENT = '회원 정보 테이블';
```

## 2. CRUD SQL 예제

### 2.1. 회원 가입

```sql
INSERT INTO demo.member (nick_name, email, password, phone_number, status, created_at, updated_at)
VALUES ('test', 'test@example.com', 'test1234!', '010-1234-5678', 'ACTIVE', NOW(), NOW());
```

### 2.2. 회원 정보 조회

```sql
SELECT member_id, nick_name, email, phone_number, status, created_at, updated_at
FROM demo.member
WHERE member_id = <member_id>;
```

### 2.3. 회원 정보 수정

```sql
UPDATE demo.member
SET nick_name = '<nick_name>', email = '<email>', phone_number = '<phone_number>', status = '<status>'
WHERE member_id = <member_id>;
```

### 2.4. 회원 삭제

```sql
DELETE FROM demo.member
WHERE member_id = <member_id>;
```

## 3. 기능적 요구사항

| 식별코드    | 라벨      | 기능명           | 우선순위 | 상태    | Word                                                          | 비고                  |
|---------|---------|---------------|------|-------|---------------------------------------------------------------|---------------------|
| MEM_01  | 회원가입    | 회원 가입         | A    | ✅ 완료  | `registerMember()`                                            | -                   |
| MEM_02  | 회원조회    | 회원 정보 조회 (단건) | A    | ✅ 완료  | `getMemberById(Long memberId)`                                | -                   |
| MEM_03  | 회원조회    | 회원 정보 조회 (목록) | A    | ✅ 완료  | `getAllMembers()`                                             | 페이징 구현 필요           |
| MEM_04  | 회원수정    | 회원 상태 변경      | A    | ✅ 완료  | `updateMemberStatus(Long memberId, Status status)`            | -                   |
| MEM_05  | 회원가입/검증 | 이메일 중복 체크     | A    | ✅ 완료  | `isEmailDuplicate(String email)`                              | boolean 반환          |
| MEM_06  | 회원가입/검증 | 닉네임 중복 체크     | A    | ✅ 완료  | `isNicknameDuplicate(String nickname)`                        | boolean 반환          |
| MEM_07  | 회원수정    | 회원 정보 수정      | B    | ⬜ 미구현 | `updateMemberInfo(Long memberId, MemberUpdateRequest req)`    | DTO 활용              |
| MEM_08  | 회원삭제    | 회원 삭제 / 탈퇴    | B    | ⬜ 미구현 | `deleteMember(Long memberId)`                                 | 논리 삭제 가능            |
| MEM_09  | 비밀번호관리  | 비밀번호 변경       | B    | ⬜ 미구현 | `changePassword(Long memberId, String oldPwd, String newPwd)` | -                   |
| MEM_10  | 비밀번호관리  | 비밀번호 초기화      | B    | ⬜ 미구현 | `resetPassword(Long memberId)`                                | 임시 비밀번호 발급          |
| SRC_01  | 검색      | 상태별 회원 조회     | C    | ⬜ 미구현 | `getMembersByStatus(Status status)`                           | 페이징 가능              |
| SRC_02  | 검색      | 닉네임 검색        | C    | ⬜ 미구현 | `searchMembersByNickname(String nickname)`                    | 부분일치 가능             |
| SRC_03  | 검색      | 가입일 기준 조회     | C    | ⬜ 미구현 | `getMembersByJoinDate(LocalDate start, LocalDate end)`        | -                   |
| SRC_04  | 검색      | 전화번호 일부 검색    | C    | ⬜ 미구현 | `searchMembersByPhone(String phoneFragment)`                  | -                   |
| STAT_01 | 통계/운영   | 상태별 회원 통계     | C    | ⬜ 미구현 | `getMemberStatisticsByStatus()`                               | Map<Status, Long> 등 |
| STAT_02 | 통계/운영   | 최근 가입자 조회     | C    | ⬜ 미구현 | `getRecentMembers(int limit)`                                 | -                   |
| STAT_03 | 통계/운영   | 장기 미접속 회원 조회  | C    | ⬜ 미구현 | `getInactiveMembers(Duration duration)`                       | ex) 6개월 이상          |
| STAT_04 | 통계/운영   | 차단 회원 관리      | C    | ⬜ 미구현 | `manageBlockedMembers()`                                      | 상태 변경 / 해제 등        |

## 4. 상태 정의

* ✅ 완료 : 기능 명세 작성 완료 및 개발 진행 가능
* ⬜ 미구현 : 문서 작성 완료 전, 개발 시작 전 상태
* ⬛ 진행중 : 기능 명세 작성 완료, 개발 진행 중

# 비고

* 외부 시스템 연동 기능은 제외
* 모든 기능은 `member` 테이블 기반으로 구현 가능
* 본 현황은 주기적으로 업데이트 필요
